¬p=D2,q=D3,r=D4,t=D5,k=D6,u=D7,v=D9,w=D10,x=D11,y=D13,l=D15,z=D16,m=D17,A=D18,B=D19,C=D26,D=D22,F=D23,G=D25;exports.setEnvOn=ª(a,b){¯.BME280ž¯.BME280.setPower(!1);¾¯.BME280;£(a)«a=¸SPI,a.setup({miso:t,mosi:q,sck:r}),bžsetTimeout(b,100,¯.BME280),¯.BME280=require(ÑBME280).connectSPI(a,p)};exports.setMagOn=ª(a,b){¯.LIS2MDLž¯.LIS2MDL.off();¾¯.LIS2MDL;£(a)«a=¸I2C,a.setup({sda:y,scl:x}),bžsetTimeout(b,100,¯.LIS2MDL),¯.LIS2MDL=require(ÑLIS2MDL).connectI2C(a,{int:z})};exports.setAccelOn=ª(a,b){¯.LIS3DHž¯.LIS3DH.off();¾¯.LIS3DH;£(a)«a=¸I2C,a.setup({sda:B,scl:A}),bžsetTimeout(b,100,¯.LIS3DH),¯.LIS3DH=require(ÑLIS3DH).connectI2C(a,{int:G})};exports.setOptoOn=ª(a,b){¯.OPT3001ž¯.OPT3001.off();¾¯.OPT3001;£(a)«a=¸I2C,a.setup({sda:C,scl:F,bitrate:4E5}),bžsetTimeout(b,1E3,¯.OPT3001),¯.OPT3001=require(ÑOPT3001).connectI2C(a,{int:D})};exports.setCellOn=ª(a,b){£(a)£(¯.cellOn)setTimeout(b,10,Serial1);¤«(¸Promise(ª(e){Serial1.removeAllListeners();Serial1.on(Ñdata,ª(f){});Serial1.setup(115200,{tx:v,rx:u,cts:w});k.reset();setTimeout(e,200)})).then(ª(){k.set();«¸Promise(ª(e){setTimeout(e,200)})}).then(ª(){l.set();«¸Promise(ª(e){setTimeout(e,2E3)})}).then(ª(){l.reset();«¸Promise(ª(e){setTimeout(e,5E3)})}).then(ª(){¯.cellOn=!0;Serial1.removeAllListeners();bžsetTimeout(b,10,Serial1)});¤¯.cellOn=!1,k.reset(),bžsetTimeout(b,1E3)};exports.setCharging=ª(a){m.write(!a)};exports.setCharging=ª(a){m.write(!a)};exports.setGPSOn=ª(a,b){a?¯.setCellOn(a,ª(e){¬f=require(ÑAT).connect(e),n={at:f,on:ª(d){d=d ª(){};f.cmd(ÑAT+QGPS=1
,1E3,ªg(c){£(cžc.startsWith(ÑAT+))«g;d(ÑOKŠc?¶:c)})},off:ª(d){d=d ª(){};f.cmd(ÑAT+QGPSEND
,1E3,ªg(c){£(cžc.startsWith(ÑAT+))«g;d(ÑOKŠc?¶:c)})},get:ª(d){d=d ª(){};f.cmd(ÑAT+QGPSLOC=2
,1E3,ªg(c){£(c){£(c.startsWith(ÑAT+))«g;£(c.startsWith(Ñ+CME ERROR:))d({error:c.substr(5)});¤£(c.startsWith(Ñ	+QGPSLOC:)){c=c.substr(9).trim();¬h=c.split(Ñ,);d({raw:c,UTC:h[0],lat:+h[1],lon:+h[2],alt:+h[4]})}¤d({error:c})}¤d({error:ÑTimeout})})}};n.on(ª(d){b(d,d?À0:n)})}):¯.setCellOn(!1,b)}