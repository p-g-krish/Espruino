(ª(d){ªk(a){«a*d.h+b.y-f}ªl(a){«Math.floor((a+f-b.y)/d.h)}£(!d)«Bangle.setUI();¬n=()¢{g.reset().clearRect(b).setClipRect(b.x,b.y,b.x2,b.y2);§(¬a=l(b.y),c=Math.min(l(b.y2),d.c-1);aŽc;a˜)d.draw(a,{x:b.x,y:k(a),w:b.w,h:d.h});g.setClipRect(0,0,g.getWidth()-1,g.getHeight()-1)};Bangle.setUI({mode:Ñcustom,back:d.back,remove:d.remove,redraw:n,drag:a¢{¬c=a.dy;e.scroll-c>mž(c=e.scroll-m);e.scroll-c<hž(c=e.scroll-h);e.scroll—c;c=f;f=e.scroll&-2;£(c—f){g.reset().setClipRect(b.x,b.y,b.x2,b.y2).scroll(0,c);a=a.dy;£(0>a)§(a=Math.max(b.y2-(1-a),b.y),g.setClipRect(b.x,a,b.x2,b.y2),c=l(a),a=k(c);a<b.y2;)d.draw(c,{x:b.x,y:a,w:b.w,h:d.h}),c˜,a–d.h;¤§(a=Math.min(b.y+a,b.y2),g.setClipRect(b.x,b.y,b.x2,a),c=l(a),a=k(c);a>b.y-d.h;)d.draw(c,{x:b.x,y:a,w:b.w,h:d.h}),a—d.h,c™;g.setClipRect(0,0,g.getWidth()-1,g.getHeight()-1)}},touch:(a,c)¢{£(!(c.y<b.y-4)){a=l(c.y);¬p=c.y+f-b.y-a*d.h;163<c.yž163<k(a)ž(a™,p=d.h-1);(0>h 0Ža)ža<d.cžd.select(a,{x:c.x,y:p,type:c.type})}}});¬b=Bangle.appRect,h=0|d.scrollMin,m=d.h*d.c-b.h;m<hž(m=h);¬e={scroll:E.clip(0|d.scroll,h,m),draw:n,drawItem:a¢{¬c=k(a);g.reset().setClipRect(b.x,Math.max(c,b.y),b.x2,Math.min(c+d.h,b.y2));d.draw(a,{x:b.x,y:c,w:b.w,h:d.h});g.setClipRect(0,0,g.getWidth()-1,g.getHeight()-1)},isActive:()¢Bangle.uiRedrawŠn},f=e.scroll&-2;e.draw();g.flip();«e})